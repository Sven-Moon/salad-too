<div class="cartWrap">
  <!-- ========== ITEM ========== -->
  <div class="itemsContainer">
    <div *ngIf="removeWarningFlag" class="removeWarning">To remove an item, use the <b>Remove</b> button.</div>
    <ng-container *ngFor="let item of cartItems">
      <div class="card">
        <div class="flex-row">
          <!-- ----------- Item Qty ----------- -->
          <div class="qtyContainer">
            <img src="./assets/images/up_arrow.png" alt="" class="qtyUp"
            (click)="increaseCartItemQty(item)">
            <div class="qty">{{item.quantity}}</div>
            <img src="./assets/images/down_arrow.png" alt="" class="qtyUp"
            (click)="decreaseCartItemQty(item)">
          </div>
          <!-- ----------- Item Info ----------- -->
          <div class="itemInfo">
            <div class="header">
              <div class="itemName">{{item.name}}</div>
              <div class="itemPrice">${{item.price}}</div>
            </div>
            <!-- ========== ITEM ACTIONS ========== -->
            <div class="itemActions">
              <button type="button" (click)="editCartItem(item.name)" class="btn-sm btn-warning">Edit</button>
              <button type="button" (click)="showDetails(item.name, item.ingredients)" class="btn-sm btn-primary">View</button>
              <button type="button" (click)="duplicateItem(item)" class="btn-sm btn-go">Duplicate</button>
              <button type="button" (click)="removeItem(item.name)" class="btn-sm btn-cancel">Remove</button>
            </div> <!-- item actions -->
          </div>
        </div> <!-- row -->
        <!-- ========== ITEM DETAILS ========== -->
        <div class="itemDetails" *ngIf="cartIngredients[item.name].length != 0">
          <ng-container *ngIf="cartIngredients[item.name] as ingredients">
            <div class="ingredients">
              <ng-container *ngFor="let ingredient of ingredients">
                <div class="ingredient {{ingredient.type}}-border center-text">
                  <img src={{ingredient.img}} alt="">
                  {{ingredient.name}} - ${{ingredient.price}}
                </div>
              </ng-container>
            </div>
          </ng-container>
        </div> <!-- item details -->
      </div> <!-- card -->
    </ng-container>
    <!-- ----------- EMPTY CART ----------- -->
    <button class="addItems btn-sm btn-primary pointer" routerLink="/order/select-item-type">
      <img src="./assets/images/green_plus.png" alt="">
      Add Something Else
    </button>
  </div>
  <!-- ----------- EMPTY CART  ----------- -->
  <div *ngIf="!cartItems || cartItems.length==0" class="emptyCart text-center">
    Your cart is empty!
  </div>

  <div class="actions">
    <button type="button" class="btn btn-go" routerLink="/pay">Pay</button>
    <hr>
    <button type="button" class="btn btn-cancel" (click)="clearCartItems()">
      <div>Empty My Cart</div>
      <div class="text-sm">(start over)</div></button>
  </div>
</div>
